<!-- Toast container -->
<div id="toast-container" class="fixed top-5 right-5 space-y-4 z-50"></div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const messages = [
      { type: 'success', text: "<%= notice %>" },
      { type: 'error', text: "<%= alert %>" }
    ];

    const container = document.getElementById('toast-container');

    messages.forEach(msg => {
      if (msg.text.trim() === '') return;

      // Create toast element
      const toast = document.createElement('div');
      toast.className = `
        max-w-xs w-full px-4 py-3 rounded-lg shadow-lg flex items-center justify-between transition-transform transform 
        ${msg.type === 'success' ? 'bg-green-500 text-white' : 'bg-red-500 text-white'} 
        animate-slide-in
      `;

      toast.innerHTML = `
        <span>${msg.text}</span>
        <button class="ml-4 font-bold hover:text-gray-200">&times;</button>
      `;

      // Close button
      toast.querySelector('button').addEventListener('click', () => {
        toast.remove();
      });

      container.appendChild(toast);

      // Auto-remove after 4 seconds
      setTimeout(() => {
        toast.classList.add('animate-slide-out');
        toast.addEventListener('animationend', () => toast.remove());
      }, 4000);
    });
  });
</script>

<style>
  @keyframes slide-in {
    0% { transform: translateX(100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
  }
  @keyframes slide-out {
    0% { transform: translateX(0); opacity: 1; }
    100% { transform: translateX(100%); opacity: 0; }
  }
  .animate-slide-in { animation: slide-in 0.5s ease forwards; }
  .animate-slide-out { animation: slide-out 0.5s ease forwards; }
</style>
